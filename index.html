<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Neon TradeCalc</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://accounts.google.com/gsi/client"></script>
<style>
:root{--bg:#000;--card:#111;--neon:#00f5ff;--gold:#ffd700}
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter}
body{background:var(--bg);color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden}
.bg-gold{position:fixed;top:0;left:0;width:200%;height:200%;background:radial-gradient(circle at 20% 50%,#ffd70044 0%,#000 40%);filter:blur(120px);animation:rotate 40s linear infinite;z-index:-1}
@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.container{position:relative;z-index:1;background:var(--card);border-radius:1rem;padding:2rem;width:100%;max-width:420px;box-shadow:0 0 20px var(--neon);animation:fadeIn .8s}
@keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
h2{color:var(--neon);margin-bottom:1.2rem;text-align:center;font-weight:600}
.field{margin-bottom:.8rem}
label{font-size:.85rem;color:#aaa}
select,input{width:100%;padding:.6rem;border:none;border-radius:.5rem;background:#222;color:#fff;transition:box-shadow .3s}
select,input:focus{outline:none;box-shadow:0 0 8px var(--neon)}
button{width:100%;padding:.7rem;margin-top:.5rem;border:none;border-radius:.5rem;background:var(--neon);color:#000;font-weight:600;cursor:pointer;transition:.3s}
button:hover{filter:brightness(1.2)}
.result{margin-top:1rem;font-size:.9rem}
#chart{margin-top:1rem;height:200px}
.hidden{display:none}
</style>
</head>
<body>
<div class="bg-gold"></div>
<div class="container">
  <h2>Neon TradeCalc</h2>

  <!-- Login -->
  <div id="login">
    <div id="g_id_onload" data-client_id="YOUR_GOOGLE_CLIENT_ID" data-callback="handleCredentialResponse"></div>
    <div class="g_id_signin" data-type="standard"></div>
  </div>

  <!-- Form -->
  <div id="app" class="hidden">
    <div class="field"><label>Pair</label>
      <select id="pair">
        <option>XAUUSD</option><option>EURUSD</option><option>GBPUSD</option><option>USDJPY</option>
        <option>AUDUSD</option><option>USDCHF</option><option>NZDUSD</option><option>USDCAD</option>
      </select>
    </div>
    <div class="field"><label>Entry</label><input id="entry" type="number" step="0.01"></div>
    <div class="field"><label>SL (pip)</label><input id="sl" type="number" min="1"></div>
    <div class="field"><label>TP (pip)</label><input id="tp" type="number" min="1"></div>
    <button onclick="calc()">Hitung</button>

    <div class="result" id="result"></div>
    <canvas id="chart" class="hidden"></canvas>
  </div>
</div>

<script>
let chart;
const userData=JSON.parse(localStorage.getItem('tradeStats')||'{"labels":[],"profits":[]}');

function handleCredentialResponse(response){
  document.getElementById('login').classList.add('hidden');
  document.getElementById('app').classList.remove('hidden');
  renderChart();
}
function calc(){
  const entry=+entry.value,sl=+sl.value,tp=+tp.value;
  const riskUSD=sl*1; // 1 lot = 1 USD per 0.1 pip
  const rewardUSD=tp*1;
  const rr=(tp/sl).toFixed(2);
  result.innerHTML=`Lot:1 | Risk: $${riskUSD} | Reward: $${rewardUSD} | RR: ${rr}`;

  // simpan statistik
  userData.labels.push(new Date().toLocaleDateString());
  userData.profits.push(rewardUSD-riskUSD);
  localStorage.setItem('tradeStats',JSON.stringify(userData));
  renderChart();
}
function renderChart(){
  if(chart) chart.destroy();
  chart=new Chart(document.getElementById('chart'),{
    type:'line',
    data:{labels:userData.labels,datasets:[{label:'Profit/Loss ($)',data:userData.profits,borderColor:'#00f5ff',fill:false}]},
    options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}
  });
  document.getElementById('chart').classList.remove('hidden');
}
</script>
</body>
</html>

